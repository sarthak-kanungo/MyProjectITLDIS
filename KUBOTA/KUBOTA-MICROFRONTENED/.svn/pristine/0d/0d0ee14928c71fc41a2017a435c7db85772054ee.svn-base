<div class="card-body">
    <div class="card" style="border: 1px solid #45afaf;">
        <div class="card-header" style="background-color: #45afaf;
                  border: 1px solid #45afaf;" *ngIf="itemDetailsArray">
            <p class="mb-0" style="font-size: 13px;">Item Details</p>
        </div>

        <div class="card-body">
            <form *ngIf="itemDetailsArray">
            
            	<div>
                    <div class="table-responsive mt-1">
                        <table class="table table-bordered table-sm">
                            <thead class="thead-light">
                                <tr>
                                	<th class="w_50" *ngIf="!isView && isSalesOrder && draftFlag"></th>
                                    <th scope="col" class="w_50" >SRN</th>
                                    <th scope="col" class="w_120"  *ngIf="isSalesOrder">Picklist No</th>
                                    <th scope="col" class="w_120">Item No</th>
                                    <th scope="col" class="w_250">Item Description</th>
                                    <th scope="col" class="w_120">HSN Code</th>
                                    <th scope="col" class="w_120">Unit Price</th>
                                    <th scope="col" class="w_120">Quantity</th>
                                    <th scope="col" class="w_120">Estimated Amount</th>
                                    <th scope="col" class="w_120">Discount%</th>
                                    <th scope="col" class="w_120">Discount Amount</th>
                                    <th scope="col" class="w_120">Net Amount</th>
                                    <th scope="col" class="w_120">CGST%</th>
                                    <th scope="col" class="w_120">CGST Amount</th>
                                    <th scope="col" class="w_120">SGST%</th>
                                    <th scope="col" class="w_120">SGST Amount</th>
                                    <th scope="col" class="w_120">IGST%</th>
                                    <th scope="col" class="w_120">IGST Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr  *ngFor="let tableRowFg of itemDetailsArray; let i = index">
                                    <td *ngIf="!isView && isSalesOrder && draftFlag">
                                        <mat-checkbox color="basic" class="form-control form-control-sm"
	                                        [formControl]="tableRowFg.get('isSelected')" [checked]="false">
	                                    </mat-checkbox>
                                    </td>
                                    <td align="center">
                                        {{i+1}}
                                    </td>
                                    <td *ngIf="isSalesOrder">
                                        <mat-form-field appearance="outline" class="w-100" [style.fontSize.px]="10" >
                                            <mat-label>Picklist Number</mat-label>
                                            <input matInput placeholder="Picklist Number"  [formControl]="tableRowFg.get('picklistNumber')">
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="w-100" [style.fontSize.px]="10">
                                            <mat-label>Item No</mat-label>
                                            <input matInput placeholder="Item No"  [formControl]="tableRowFg.get('itemNo')">
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="w-100" [style.fontSize.px]="10">
                                            <mat-label>Item Description</mat-label>
                                            <input matInput placeholder="Item Description" [formControl]="tableRowFg.get('itemDescription')">
                                        </mat-form-field>
                                    </td>

                                    <td>
                                        <mat-form-field appearance="outline" class="w-100" [style.fontSize.px]="10">
                                            <mat-label>HSN Code</mat-label>
                                            <input matInput placeholder="hsnCode" [formControl]="tableRowFg.get('hsnCode')">
                                        </mat-form-field>
                                    </td>

                                    <td>
                                        <mat-form-field appearance="outline" class="w-100" [style.fontSize.px]="10">
                                            <mat-label>Unit Price</mat-label>
                                            <input matInput placeholder="Unit Price" class="numericField" [formControl]="tableRowFg.get('unitPrice')">
                                        </mat-form-field>
                                    </td>
                                    
                                    <td>
                                        <mat-form-field appearance="outline" class="w-100" [style.fontSize.px]="10">
                                            <mat-label>Quantity</mat-label>
                                            <input matInput placeholder="Quantity" class="numberField" [formControl]="tableRowFg.get('quantity')">
                                        </mat-form-field>
                                    </td>
                                    
                                    <td>
                                        <mat-form-field appearance="outline" class="w-100" [style.fontSize.px]="10">
                                            <mat-label>Amount</mat-label>
                                            <input matInput placeholder="Amount" class="numericField" [formControl]="tableRowFg.get('amount')">
                                        </mat-form-field>
                                    </td>
                                    
                                    <td>
                                        <mat-form-field appearance="outline" class="w-100" [style.fontSize.px]="10">
                                            <mat-label>Discount%</mat-label>
                                            <input matInput placeholder="Discount%" class="numericField" [formControl]="tableRowFg.get('discountPercent')">
                                        </mat-form-field>
                                    </td>
                                    
                                    <td>
                                        <mat-form-field appearance="outline" class="w-100" [style.fontSize.px]="10">
                                            <mat-label>Discount Amount</mat-label>
                                            <input matInput placeholder="Discount Amount" class="numericField" [formControl]="tableRowFg.get('discountAmount')">
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="w-100" [style.fontSize.px]="10">
                                            <mat-label>Net Amount</mat-label>
                                            <input matInput placeholder="Net Amount" class="numericField" [formControl]="tableRowFg.get('netAmount')">
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="w-100" [style.fontSize.px]="10">
                                            <mat-label>CGST%</mat-label>
                                            <input matInput placeholder="CGST%" class="numericField" [formControl]="tableRowFg.get('cgstPercent')">
                                        </mat-form-field>
                                    </td>
                                    
                                    <td>
                                        <mat-form-field appearance="outline" class="w-100" [style.fontSize.px]="10">
                                            <mat-label>CGST Amount</mat-label>
                                            <input matInput placeholder="CGST Amount" class="numericField" [formControl]="tableRowFg.get('cgstAmount')">
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="w-100" [style.fontSize.px]="10">
                                            <mat-label>SGST%</mat-label>
                                            <input matInput placeholder="SGST%" class="numericField" [formControl]="tableRowFg.get('sgstPercent')">
                                        </mat-form-field>
                                    </td>
                                    
                                    <td>
                                        <mat-form-field appearance="outline" class="w-100" [style.fontSize.px]="10">
                                            <mat-label>SGST Amount</mat-label>
                                            <input matInput placeholder="SGST Amount" class="numericField" [formControl]="tableRowFg.get('sgstAmount')">
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field appearance="outline" class="w-100" [style.fontSize.px]="10">
                                            <mat-label>IGST%</mat-label>
                                            <input matInput placeholder="IGST%" class="numericField" [formControl]="tableRowFg.get('igstPercent')">
                                        </mat-form-field>
                                    </td>
                                    
                                    <td>
                                        <mat-form-field appearance="outline" class="w-100" [style.fontSize.px]="10">
                                            <mat-label>IGST Amount</mat-label>
                                            <input matInput placeholder="IGST Amount" class="numericField" [formControl]="tableRowFg.get('igstAmount')">
                                        </mat-form-field>
                                    </td>
            					</tr>
            				</tbody>
            			</table>
            		</div>
            		<div class=" text-center" *ngIf="!isView && isSalesOrder && draftFlag">
                    	<button type="button" class="btn btn-sm btn_secondary ml-2" (click)="deleteRow()">Delete Row</button>
                	</div>
            	</div>			
            </form>

            <div class="col-lg-12 mt-3">
                <div [formGroup]="machineDetailsFormControl" class="d-flex justify-content-end ">
                    <table class="col-4">
                        <tr>
                            <td>Total Base Amount</td>
                            <td>
                                <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
                                    <input matInput placeholder="Base Amount" formControlName="totalBaseAmount">
                                </mat-form-field>
                            </td>
                        </tr>
                        <tr>
                            <td>Total GST Amount</td>
                            <td>
                                <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
                                    <input matInput placeholder="Total GST Amount" formControlName="totalTaxAmount">
                                </mat-form-field>
                            </td>
                        </tr>
                        <tr>
                            <td>TCS %</td>
                            <td>
                                <mat-form-field appearance="outline" class="w-100">
                                	<mat-label>TCS %</mat-label>
				                    <mat-select formControlName="tcsPercent" (selectionChange)="calculateTcsSelection()" [disabled]="!tcsdraftFlag">
				                    	<mat-option *ngFor="let tcs of tcsPercList" [value]="tcs.tcsValue">
				                            {{tcs.displayValue}}
				                        </mat-option>
				                    </mat-select>
				                </mat-form-field>
                            </td>
                        </tr>
                        <tr>
                            <td>Total TCS Amount</td>
                            <td>
                                <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
                                    <input matInput placeholder="Total TCS Amount"
                                        formControlName="tcsAmount">
                                </mat-form-field>
                            </td>
                        </tr>
                        <tr>
                            <td>Total Invoice Amount</td>
                            <td>
                                <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
                                    <input matInput placeholder="Total Invoice Amount"
                                        formControlName="totalInvoiceAmount">
                                </mat-form-field>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>







<!-- <div class="card-body">
    <div class="card" style="border: 1px solid #45afaf;">
        <div class="card-header" style="background-color: #45afaf;
                  border: 1px solid #45afaf;">
            <p class="mb-0" style="font-size: 13px;">Machine Details</p>
        </div>

        <div class="card-body">
            <div>
                <div class="table-responsive">
                    <table class="table table-bordered table-sm">
                        <thead class="thead-light">
                            <tr>
                                <th scope="col" style="width: 10px;" *ngFor="let title of tableTitle">{{title}}
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let detail of (poItemDetailForm|async); let i = index">
                                <td>
                                    <mat-checkbox color="basic" class="form-control form-control-sm"
                                        [formControl]="detail.get('isSelected')" [checked]="false">
                                    </mat-checkbox>
                                </td>
                                <td>
                                    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
                                        <mat-label>Item No.</mat-label>
<input matInput placeholder="Item No." [formControl]="detail.get('sparePartMaster')" [matAutocomplete]="autoItemNo">
<mat-autocomplete #autoItemNo="matAutocomplete" (optionSelected)="itemNumberSelection($event,i)"
    [displayWith]="displayItemNumberFn">
    <mat-option *ngFor="let option of filteredItemNumberList |async" [value]="option">
        {{option.itemNo}}
    </mat-option>
</mat-autocomplete>
<mat-icon matSuffix>search</mat-icon>
</mat-form-field>
</td>
<td>
    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
        <input matInput placeholder="Item Description" [formControl]="detail.get('itemDescription')">
    </mat-form-field>
</td>
<td>
    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
        <input matInput placeholder="HSN Code">
    </mat-form-field>
</td>
<td>
    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
        <input matInput placeholder="Unit Price" [formControl]="detail.get('quantity')">
    </mat-form-field>
</td>
<td>
    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
        <input matInput placeholder="Invoice Quantity" [formControl]="detail.get('currentStock')">
    </mat-form-field>
</td>

<td>
    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
        <input matInput placeholder="Amount" [formControl]="detail.get('backOrderAtKai')">
    </mat-form-field>
</td>

<td>
    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
        <input matInput placeholder="Discount %" [formControl]="detail.get('transitFromKai')">
    </mat-form-field>
</td>

<td>
    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
        <input matInput placeholder="Unit Price" [formControl]="detail.get('unitPrice')">
    </mat-form-field>
</td>

<td>
    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
        <input matInput placeholder="Discount Amount" [formControl]="detail.get('baseAmount')">
    </mat-form-field>
</td>

<td>
    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
        <input matInput placeholder="Nett Amount" [formControl]="detail.get('gstPercent')">
    </mat-form-field>
</td>

<td>
    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
        <input matInput placeholder="CGST %" [formControl]="detail.get('gstAmount')">
    </mat-form-field>
</td>

<td>
    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
        <input matInput placeholder="CGST Amount" [formControl]="detail.get('gstAmount')">
    </mat-form-field>
</td>

<td>
    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
        <input matInput placeholder="SGST %" [formControl]="detail.get('gstAmount')">
    </mat-form-field>
</td>

<td>
    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
        <input matInput placeholder="SGST Amount" [formControl]="detail.get('gstAmount')">
    </mat-form-field>
</td>

<td>
    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
        <input matInput placeholder="IGST %" [formControl]="detail.get('gstAmount')">
    </mat-form-field>
</td>

<td>
    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
        <input matInput placeholder="IGST Amount" [formControl]="detail.get('gstAmount')">
    </mat-form-field>
</td>

</tr>
</tbody>
</table>
</div>
<div class=" text-center" *ngIf="!isView">
    <button type="button" class="btn btn-sm btn_primary" (click)="addRow()"> Add Row</button>
    <button type="button" class="btn btn-sm btn_secondary ml-2" (click)="deleteRow()">
        Delete Row</button>
</div>
</div>

<div class="col-lg-12 mt-3">
    <form [formGroup]="poTotalForm" class="d-flex justify-content-end ">
        <table class="col-4">
            <tr>
                <td>Total Base Amount</td>
                <td>
                    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
                        <input matInput placeholder="Base Amount" formControlName="totalBasicAmount">
                    </mat-form-field>
                </td>
            </tr>
            <tr>
                <td>Total GST Amount</td>
                <td>
                    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
                        <input matInput placeholder="Total GST Amount" formControlName="totalGstAmount">
                    </mat-form-field>
                </td>
            </tr>
            <tr>
                <td>Total PO Amount</td>
                <td>
                    <mat-form-field class="w-100" appearance="outline" [style.fontSize.px]="10">
                        <input matInput placeholder="Total PO Amount" formControlName="totalPOAmount">
                    </mat-form-field>
                </td>
            </tr>
        </table>
    </form>
</div>

</div>
</div>
</div> -->